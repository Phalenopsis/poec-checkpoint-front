<h1>Nouvelle partie</h1>
<div *ngIf="user$ | async as user">{{user.name}}</div>
<h2>Choisir votre difficult√©</h2>
<ul>
    <li><button type="button" (click)="chooseDifficulty('easy')">Facile</button></li>
    <li><button type="button" (click)="chooseDifficulty('medium')">Moyen</button></li>
    <li><button type="button" (click)="chooseDifficulty('difficult')">Dur</button></li>
</ul>


<div *ngIf="game$ | async as game">
    <div *ngIf="game.isFinished != 0; else playingTable">
        <h1>{{game.isFinished == 1 ? "YOU" : "IA"}} WIN !</h1>
    </div>
    <ng-template #playingTable>
    <table *ngIf="game.constructGrid">
        
        
        <tr *ngFor="let line of game.constructGrid; let nbLine = index">
            <td *ngFor="let column of line; let nbColumn = index" (click)="play(game.id, nbColumn)">
            <!-- <td *ngFor="let column of line; let nbColumn = index" > -->
                <span [ngClass]="{'red':game.constructGrid[nbLine][nbColumn] === '1', 'yellow':game.constructGrid[nbLine][nbColumn] === '2'}">
                    <span>{{nbLine}} : {{nbColumn}}</span>
                </span>
                
            </td>
        </tr>
    </table>
</ng-template>
</div>


